<!doctype html>
<html lang="ko" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë°œë Œíƒ€ì¸ë°ì´ ë°ì´íŠ¸ ğŸ’•</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&amp;display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Gowun Dodum', sans-serif; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes pulse-heart {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100%) rotate(720deg); opacity: 0; }
    }
    
    @keyframes bounce-in {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes wiggle {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    @keyframes slide-up {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes scale-pop {
      0% { transform: scale(0); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    @keyframes glow {
      0%, 100% { text-shadow: 0 0 10px rgba(236, 72, 153, 0.5); }
      50% { text-shadow: 0 0 20px rgba(236, 72, 153, 0.8); }
    }
    
    @keyframes falling-hearts {
      0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }
    
    #falling-hearts-container {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100% !important;
      height: 100% !important;
      pointer-events: none !important;
      overflow: hidden !important;
      z-index: 999999 !important;
    }
    
    .falling-heart {
      position: fixed !important;
      animation: falling-hearts 4s linear forwards;
      pointer-events: none !important;
      font-size: 2rem;
      z-index: 999999 !important;
    }
    
    .float-animation { animation: float 3s ease-in-out infinite; }
    .pulse-heart { animation: pulse-heart 1s ease-in-out infinite; }
    .bounce-in { animation: bounce-in 0.6s ease-out forwards; }
    .wiggle { animation: wiggle 0.3s ease-in-out; }
    .slide-up { animation: slide-up 0.5s ease-out; }
    .scale-pop { animation: scale-pop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .glow { animation: glow 2s ease-in-out infinite; }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      animation: confetti-fall 3s linear forwards;
    }
    
    .no-btn {
      transition: all 0.3s ease;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 25%, #fbcfe8 50%, #f9a8d4 75%, #f472b6 100%);
    }
    
    .activity-item {
      animation: slide-up 0.6s ease-out forwards;
      opacity: 0;
    }
    
    .activity-item:nth-child(1) { animation-delay: 0.2s; }
    .activity-item:nth-child(2) { animation-delay: 0.4s; }
    .activity-item:nth-child(3) { animation-delay: 0.6s; }
    
    .food-item {
      animation: slide-up 0.6s ease-out forwards;
      opacity: 0;
    }
    
    .food-item:nth-child(1) { animation-delay: 0.8s; }
    .food-item:nth-child(2) { animation-delay: 1s; }

    .message-item {
      animation: slide-up 0.6s ease-out forwards;
      opacity: 0;
    }

    .message-item:nth-child(1) { animation-delay: 1.2s; }
    .message-item:nth-child(2) { animation-delay: 1.4s; }
    .message-item:nth-child(3) { animation-delay: 1.6s; }
    .message-item:nth-child(4) { animation-delay: 1.8s; }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0 overflow-auto"><!-- ë–¨ì–´ì§€ëŠ” í•˜íŠ¸ - ë§¨ ì•! -->
  <div id="falling-hearts-container"></div>
  <main class="gradient-bg w-full min-h-full flex items-center justify-center p-4 relative" id="main-container"><!-- ë– ë‹¤ë‹ˆëŠ” í•˜íŠ¸ ë°°ê²½ - ì¹´ë“œ ìœ„ì— ë³´ì´ê²Œ! -->
   <div class="fixed inset-0 pointer-events-none overflow-hidden z-40">
    <div class="absolute text-4xl float-animation" style="top: 10%; left: 10%; animation-delay: 0s;">
     ğŸ’•
    </div>
    <div class="absolute text-3xl float-animation" style="top: 20%; right: 15%; animation-delay: 0.5s;">
     ğŸ’—
    </div>
    <div class="absolute text-2xl float-animation" style="bottom: 30%; left: 20%; animation-delay: 1s;">
     ğŸ’–
    </div>
    <div class="absolute text-4xl float-animation" style="bottom: 20%; right: 10%; animation-delay: 1.5s;">
     ğŸ’“
    </div>
    <div class="absolute text-3xl float-animation" style="top: 50%; left: 5%; animation-delay: 2s;">
     ğŸ’
    </div>
   </div><!-- ë©”ì¸ ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
   <div id="card-container" class="relative z-10 w-full max-w-2xl"><!-- ì§ˆë¬¸ ì¹´ë“œ -->
    <div id="question-card" class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 text-center transform transition-all duration-500"><!-- ë´‰íˆ¬ ì•„ì´ì½˜ -->
     <div class="text-7xl mb-6 pulse-heart">
      ğŸ’Œ
     </div><!-- ë°›ëŠ”ì‚¬ëŒ/ë³´ë‚´ëŠ”ì‚¬ëŒ -->
     <div class="mb-8 border-b-2 border-pink-200 pb-4">
      <div class="flex justify-between text-sm text-gray-600 mb-2">
       <div class="text-left">
        <p class="font-semibold text-pink-600">TO</p>
        <p id="to-name" class="text-lg font-bold text-gray-800">ì¬í¬ë‹˜ ğŸ’•</p>
       </div>
       <div class="text-right">
        <p class="font-semibold text-pink-600">FROM</p>
        <p id="from-name" class="text-lg font-bold text-gray-800">ê²½ë¦¼ë‹˜ ğŸ’—</p>
       </div>
      </div>
     </div><!-- ì§ˆë¬¸ -->
     <h1 id="main-question" class="text-xl md:text-2xl font-bold bg-gradient-to-r from-pink-500 to-rose-400 bg-clip-text text-transparent mb-6 leading-relaxed">ì¬í¬ë‹˜ê»˜ ê²½ë¦¼ë‹˜ì´ë³´ë‚¸ ë°ì´íŠ¸ ì‹ ì²­ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.</h1><!-- ì„œë¸Œ ì§ˆë¬¸ -->
     <h2 id="sub-question" class="text-2xl md:text-3xl font-bold text-pink-600 mb-8">ìˆ˜ë½í•˜ì‹œê² ì–´ìš”?</h2><!-- ê·€ì—¬ìš´ ì¼ëŸ¬ìŠ¤íŠ¸ -->
     <div class="text-6xl mb-8 glow">
      ğŸ’Œâœ¨
     </div><!-- ë²„íŠ¼ -->
     <div class="flex flex-col sm:flex-row gap-4 justify-center items-center"><button id="yes-btn" class="bg-gradient-to-r from-pink-500 via-pink-400 to-rose-500 hover:from-pink-600 hover:via-pink-500 hover:to-rose-600 text-white font-bold py-4 px-8 rounded-full text-lg shadow-lg transform hover:scale-110 transition-all duration-300 w-full sm:w-auto"> ì¢‹ì•„ìš”! ğŸ’• </button> <button id="no-btn" class="no-btn bg-pink-100 hover:bg-pink-200 text-pink-600 font-bold py-4 px-8 rounded-full text-lg shadow-md w-full sm:w-auto"> ìŒ... </button>
     </div>
    </div><!-- ì„±ê³µ ì¹´ë“œ -->
    <div id="success-card" class="hidden bg-white/97 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 max-w-2xl"><!-- ì„±ê³µ ë©”ì‹œì§€ -->
     <div class="text-center mb-8">
      <div class="text-8xl mb-4 scale-pop">
       ğŸ‰
      </div>
      <h2 id="success-message" class="text-2xl md:text-3xl font-bold bg-gradient-to-r from-pink-500 to-rose-400 bg-clip-text text-transparent mb-4">ğŸ€Sweet ValentineğŸ€</h2>
      <p class="text-pink-500 text-xl">ğŸ’“ ë‘ê·¼ë‘ê·¼... ğŸ€</p>
     </div><!-- ë‚ ì§œ ì •ë³´ -->
     <div class="bg-gradient-to-r from-pink-100 to-rose-100 rounded-2xl p-6 mb-8 border-3 border-pink-300">
      <p id="date-info" class="text-center text-lg font-bold text-pink-600">ë°œë Œíƒ€ì¸ë°ì´ ë°ì´íŠ¸!</p>
     </div><!-- ì¥ì†Œ -->
     <div class="bg-pink-50 rounded-2xl p-4 mb-6 border-3 border-pink-200">
      <div class="flex items-center gap-3"><span class="text-3xl">ğŸ“</span>
       <div>
        <p class="text-sm text-pink-600 font-semibold">ìœ„ì¹˜</p>
        <p id="location-label" class="text-xl font-bold text-pink-700">ì„±ìˆ˜</p>
       </div>
      </div>
     </div><!-- ì¼ì • -->
     <div class="mb-8">
      <h3 class="text-xl font-bold text-pink-600 mb-4 flex items-center gap-2"><span class="text-2xl">ğŸ“‹</span> ì˜¤ëŠ˜ì˜ ì¼ì •</h3>
      <div class="space-y-3"><!-- í™œë™ 1 -->
       <div class="activity-item bg-yellow-50 rounded-xl p-4 border-2 border-yellow-300 flex gap-3 items-start"><span class="text-2xl">ğŸ§±</span>
        <div class="flex-1">
         <p class="font-bold text-gray-800" id="activity1">ë ˆê³  íŒì—…ìŠ¤í† ì–´ ê°€ì„œ ë ˆê³ ë§Œë“¤ê¸° - 3ì‹œ</p>
         <p class="text-sm text-gray-600 mt-1">ë©‹ì§„ ë ˆê³ ì‘í’ˆ í•¨ê»˜ ë§Œë“¤ì–´ìš”!</p>
        </div>
       </div><!-- í™œë™ 2 -->
       <div class="activity-item bg-purple-50 rounded-xl p-4 border-2 border-purple-300 flex gap-3 items-start"><span class="text-2xl">ğŸ’„</span>
        <div class="flex-1">
         <p class="font-bold text-gray-800" id="activity2">ì˜¨ê·¸ë¦¬ë””ì–¸ì¸ íŒì—… - 4ì‹œ 30ë¶„</p>
         <p class="text-sm text-gray-600 mt-1">ì˜ˆìœ ê²ƒ êµ¬ê²½í•´ìš”!</p>
        </div>
       </div><!-- í™œë™ 3 -->
       <div class="activity-item bg-cyan-50 rounded-xl p-4 border-2 border-cyan-300 flex gap-3 items-start"><span class="text-2xl">ğŸ›ï¸</span>
        <div class="flex-1">
         <p class="font-bold text-gray-800" id="activity3">ì—¬ëŸ¬êµ°ë° êµ¬ê²½í•˜ê¸°</p>
         <p class="text-sm text-gray-600 mt-1">ì„±ìˆ˜ì˜ ìˆ¨ê²¨ì§„ ëª…ì†Œë“¤ íƒë°©!</p>
        </div>
       </div>
      </div>
     </div><!-- ë¨¹ì„ ê²ƒë“¤ -->
     <div class="mb-8">
      <h3 class="text-xl font-bold text-pink-600 mb-4 flex items-center gap-2"><span class="text-2xl">ğŸ°</span> ëƒ ëƒ  ë¨¹ì„ ê²ƒë“¤</h3>
      <div class="space-y-3"><!-- ìŒì‹ 1 -->
       <div class="food-item bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-4 border-2 border-rose-300 flex gap-3 items-start"><span class="text-2xl">ğŸ§</span>
        <div class="flex-1">
         <p class="font-bold text-gray-800" id="food1">í•‘í¬ ì¹´í˜ ê°€ì„œ ì˜ˆìœ ë””ì €íŠ¸</p>
         <p class="text-sm text-gray-600 mt-1">ì¸ìƒìƒ·ë„ í•¨ê»˜!</p>
        </div>
       </div><!-- ìŒì‹ 2 -->
       <div class="food-item bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-4 border-2 border-amber-300 flex gap-3 items-start"><span class="text-2xl">ğŸ½ï¸</span>
        <div class="flex-1">
         <p class="font-bold text-gray-800" id="food2">ì„±ìˆ˜ ë§›ì§‘ì—ì„œ ì €ë… ë¨¹ê¸°</p>
         <p class="text-sm text-gray-600 mt-1">ë§›ìˆëŠ” ê²ƒ ê°€ë“!</p>
        </div>
       </div>
      </div>
     </div><!-- ê°ì„± ì„¹ì…˜ -->
     <div class="mb-8 bg-gradient-to-r from-pink-50 via-rose-50 to-pink-50 rounded-2xl p-6 border-3 border-pink-300">
      <h3 class="text-xl font-bold text-pink-600 mb-4 flex items-center gap-2 justify-center"><span class="text-2xl">ğŸ’•</span> ìš°ë¦¬ì˜ íŠ¹ë³„í•œ ìˆœê°„ë“¤ <span class="text-2xl">ğŸ’•</span></h3>
      <div class="space-y-4">
       <p id="message1" class="message-item text-lg text-gray-800 font-semibold leading-relaxed">ì‚¬ë‘ì´ ê°€ë“í•œ ì˜¤ë¹ ë‘ ë‚˜ë‘ í•¨ê»˜ë¼ë©´</p>
       <p id="message2" class="message-item text-lg text-gray-800 leading-relaxed">ë‚´ì¼ ì–´ë–¤ ì¼ì´ ìƒê¸¸ê¹Œ? ğŸ¤”âœ¨</p>
       <p id="message3" class="message-item text-lg text-pink-600 font-bold leading-relaxed">ë‘ê·¼ë‘ê·¼... ğŸ’“</p>
       <p id="message4" class="message-item text-base text-gray-700 leading-relaxed italic">ê°™ì´ ìˆìœ¼ë©´ ë˜ ì¬ë¯¸ìˆëŠ” ì¼ ìƒê¸°ë‹ˆê¹Œìš”! <span class="text-pink-500 font-semibold">ì„¤ë ˜ ê°€ë“í•œ ë¯¸ë˜</span>ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš” ğŸ’—</p>
      </div>
     </div><!-- í‘¸í„° ë©”ì‹œì§€ -->
     <div class="text-center pt-6 border-t-3 border-pink-200">
      <p id="footer-message" class="text-lg text-gray-700"><span class="text-2xl">ğŸ’–</span> ë‚˜ë‘ í–‰ë³µí•œ í•˜ë£¨ ë³´ë‚´ì¥ <span class="text-2xl">ğŸ’–</span></p>
     </div>
    </div>
   </div><!-- ìƒ‰ì¢…ì´ -->
   <div id="confetti-container" class="fixed inset-0 pointer-events-none z-50"></div>
  </main>
  <script>
    const defaultConfig = {
      to_name: 'ì¬í¬ë‹˜ ğŸ’•',
      from_name: 'ê²½ë¦¼ë‹˜ ğŸ’—',
      main_question: 'ì¬í¬ë‹˜ê»˜ ê²½ë¦¼ë‹˜ì´ë³´ë‚¸ ë°ì´íŠ¸ ì‹ ì²­ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.',
      sub_question: 'ìˆ˜ë½í•˜ì‹œê² ì–´ìš”?',
      yes_text: 'ì¢‹ì•„ìš”! ğŸ’•',
      no_text: 'ìŒ...',
      success_message: 'ğŸ€Sweet ValentineğŸ€',
      date_info: 'ë°œë Œíƒ€ì¸ë°ì´ ë°ì´íŠ¸!',
      location_label: 'ì„±ìˆ˜',
      activity1: 'ë ˆê³  íŒì—…ìŠ¤í† ì–´ ê°€ì„œ ë ˆê³ ë§Œë“¤ê¸° - 3ì‹œ',
      activity2: 'ì˜¨ê·¸ë¦¬ë””ì–¸ì¸ íŒì—… - 4ì‹œ 30ë¶„',
      activity3: 'ì—¬ëŸ¬êµ°ë° êµ¬ê²½í•˜ê¸°',
      food1: 'í•‘í¬ ì¹´í˜ ê°€ì„œ ì˜ˆìœ ë””ì €íŠ¸',
      food2: 'ì„±ìˆ˜ ë§›ì§‘ì—ì„œ ì €ë… ë¨¹ê¸°',
      message1: 'ì‚¬ë‘ì´ ê°€ë“í•œ ì˜¤ë¹ ë‘ ë‚˜ë‘ í•¨ê»˜ë¼ë©´',
      message2: 'ë‚´ì¼ ì–´ë–¤ ì¼ì´ ìƒê¸¸ê¹Œ? ğŸ¤”âœ¨',
      message3: 'ë‘ê·¼ë‘ê·¼... ğŸ’“',
      message4: 'ê°™ì´ ìˆìœ¼ë©´ ë˜ ì¬ë¯¸ìˆëŠ” ì¼ ìƒê¸°ë‹ˆê¹Œìš”! <span class="text-pink-500 font-semibold">ì„¤ë ˜ ê°€ë“í•œ ë¯¸ë˜</span>ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš” ğŸ’—',
      footer_message: 'ë‚˜ë‘ í–‰ë³µí•œ í•˜ë£¨ ë³´ë‚´ì¥',
      background_color: '#f472b6',
      card_color: '#ffffff',
      text_color: '#1f2937',
      yes_button_color: '#ec4899',
      no_button_color: '#fbcfe8',
      font_family: 'Gowun Dodum'
    };

    let config = { ...defaultConfig };
    let noClickCount = 0;

    // DOM ìš”ì†Œë“¤
    const questionCard = document.getElementById('question-card');
    const successCard = document.getElementById('success-card');
    const yesBtn = document.getElementById('yes-btn');
    const noBtn = document.getElementById('no-btn');
    const toName = document.getElementById('to-name');
    const fromName = document.getElementById('from-name');
    const mainQuestion = document.getElementById('main-question');
    const subQuestion = document.getElementById('sub-question');
    const successMessage = document.getElementById('success-message');
    const dateInfo = document.getElementById('date-info');
    const locationLabel = document.getElementById('location-label');
    const activity1 = document.getElementById('activity1');
    const activity2 = document.getElementById('activity2');
    const activity3 = document.getElementById('activity3');
    const food1 = document.getElementById('food1');
    const food2 = document.getElementById('food2');
    const message1 = document.getElementById('message1');
    const message2 = document.getElementById('message2');
    const message3 = document.getElementById('message3');
    const message4 = document.getElementById('message4');
    const footerMessage = document.getElementById('footer-message');
    const confettiContainer = document.getElementById('confetti-container');
    const mainContainer = document.getElementById('main-container');
    const fallingHeartsContainer = document.getElementById('falling-hearts-container');

    // ë–¨ì–´ì§€ëŠ” í•˜íŠ¸ - ë§¨ ì•ì— ë³´ì´ê²Œ!
    function createFallingHearts() {
      const hearts = ['ğŸ’•', 'ğŸ’—', 'ğŸ’–', 'ğŸ’“', 'ğŸ’'];
      
      setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'falling-heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.top = '-100px';
        heart.style.animationDuration = (3 + Math.random() * 2) + 's';
        
        fallingHeartsContainer.appendChild(heart);
        
        // ì• ë‹ˆë©”ì´ì…˜ í›„ ì œê±°
        setTimeout(() => {
          heart.remove();
        }, 5000);
      }, 400);
    }

    // í˜ì´ì§€ ë¡œë“œì‹œ í•˜íŠ¸ ì‹œì‘
    createFallingHearts();

    // ìƒ‰ì¢…ì´ ìƒì„±
    function createConfetti() {
      const colors = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#54a0ff', '#5f27cd', '#ff69b4', '#ffb6c1'];
      
      for (let i = 0; i < 70; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 2 + 's';
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        confettiContainer.appendChild(confetti);
      }
      
      setTimeout(() => {
        confettiContainer.innerHTML = '';
      }, 5000);
    }

    // ì¢‹ì•„ìš” ë²„íŠ¼ í´ë¦­
    yesBtn.addEventListener('click', () => {
      questionCard.classList.add('hidden');
      successCard.classList.remove('hidden');
      successCard.classList.add('bounce-in');
      createConfetti();
    });

    // ì•„ë‹ˆìš” ë²„íŠ¼ - ë„ë§ì³!
    noBtn.addEventListener('click', () => {
      noClickCount++;
      
      if (noClickCount >= 3) {
        noBtn.style.transform = `scale(${Math.max(0.3, 1 - noClickCount * 0.1)})`;
      }
      
      noBtn.classList.add('wiggle');
      setTimeout(() => noBtn.classList.remove('wiggle'), 300);
      
      const maxX = window.innerWidth - noBtn.offsetWidth - 100;
      const maxY = window.innerHeight - noBtn.offsetHeight - 100;
      const randomX = Math.random() * maxX;
      const randomY = Math.random() * maxY;
      
      noBtn.style.position = 'fixed';
      noBtn.style.left = randomX + 'px';
      noBtn.style.top = randomY + 'px';
      noBtn.style.zIndex = '100';
      
      const noTexts = ['ì¡ì•„ë´~', 'ì—í—¤í—¤ ğŸ˜', 'ëª» ëˆ„ë¥¼ê±¸?', 'í¬ê¸°í•´~', 'ğŸ’¨', 'ğŸƒâ€â™‚ï¸'];
      if (noClickCount < noTexts.length) {
        noBtn.textContent = noTexts[noClickCount];
      }
    });

    // ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ì•„ë‹ˆìš” ë²„íŠ¼ ë„ë§
    noBtn.addEventListener('mouseenter', () => {
      if (noClickCount >= 1) {
        const maxX = window.innerWidth - noBtn.offsetWidth - 100;
        const maxY = window.innerHeight - noBtn.offsetHeight - 100;
        const randomX = Math.random() * maxX;
        const randomY = Math.random() * maxY;
        
        noBtn.style.position = 'fixed';
        noBtn.style.left = randomX + 'px';
        noBtn.style.top = randomY + 'px';
        noBtn.style.zIndex = '100';
      }
    });

    // ì„¤ì • ë³€ê²½ í•¸ë“¤ëŸ¬
    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      
      // í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
      toName.textContent = config.to_name || defaultConfig.to_name;
      fromName.textContent = config.from_name || defaultConfig.from_name;
      mainQuestion.textContent = config.main_question || defaultConfig.main_question;
      subQuestion.textContent = config.sub_question || defaultConfig.sub_question;
      yesBtn.textContent = config.yes_text || defaultConfig.yes_text;
      successMessage.textContent = config.success_message || defaultConfig.success_message;
      dateInfo.textContent = config.date_info || defaultConfig.date_info;
      locationLabel.textContent = config.location_label || defaultConfig.location_label;
      activity1.textContent = config.activity1 || defaultConfig.activity1;
      activity2.textContent = config.activity2 || defaultConfig.activity2;
      activity3.textContent = config.activity3 || defaultConfig.activity3;
      food1.textContent = config.food1 || defaultConfig.food1;
      food2.textContent = config.food2 || defaultConfig.food2;
      message1.textContent = config.message1 || defaultConfig.message1;
      message2.textContent = config.message2 || defaultConfig.message2;
      message3.textContent = config.message3 || defaultConfig.message3;
      message4.innerHTML = config.message4 || defaultConfig.message4;
      footerMessage.innerHTML = `<span class="text-2xl">ğŸ’–</span> ${config.footer_message || defaultConfig.footer_message} <span class="text-2xl">ğŸ’–</span>`;
      
      if (noClickCount === 0) {
        noBtn.textContent = config.no_text || defaultConfig.no_text;
      }
      
      // ìƒ‰ìƒ ì—…ë°ì´íŠ¸
      mainContainer.style.background = `linear-gradient(135deg, #fdf2f8 0%, #fce7f3 25%, #fbcfe8 50%, ${config.background_color} 75%, #f472b6 100%)`;
      questionCard.style.backgroundColor = config.card_color + 'f2';
      successCard.style.backgroundColor = config.card_color + 'f7';
      yesBtn.style.background = `linear-gradient(to right, ${config.yes_button_color}, ${adjustColor(config.yes_button_color, -20)})`;
      noBtn.style.backgroundColor = config.no_button_color;
      
      // í°íŠ¸ ì—…ë°ì´íŠ¸
      const fontStack = `${config.font_family}, 'Gowun Dodum', sans-serif`;
      document.body.style.fontFamily = fontStack;
    }

    // ìƒ‰ìƒ ì¡°ì • í•¨ìˆ˜
    function adjustColor(color, amount) {
      const hex = color.replace('#', '');
      const r = Math.max(0, Math.min(255, parseInt(hex.substr(0, 2), 16) + amount));
      const g = Math.max(0, Math.min(255, parseInt(hex.substr(2, 2), 16) + amount));
      const b = Math.max(0, Math.min(255, parseInt(hex.substr(4, 2), 16) + amount));
      return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
    }

    // ê¸°ëŠ¥ ë§¤í•‘
    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => config.card_color || defaultConfig.card_color,
            set: (value) => { config.card_color = value; window.elementSdk.setConfig({ card_color: value }); }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          },
          {
            get: () => config.yes_button_color || defaultConfig.yes_button_color,
            set: (value) => { config.yes_button_color = value; window.elementSdk.setConfig({ yes_button_color: value }); }
          },
          {
            get: () => config.no_button_color || defaultConfig.no_button_color,
            set: (value) => { config.no_button_color = value; window.elementSdk.setConfig({ no_button_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => { config.font_family = value; window.elementSdk.setConfig({ font_family: value }); }
        },
        fontSizeable: undefined
      };
    }

    // í¸ì§‘ íŒ¨ë„ ê°’ ë§¤í•‘
    function mapToEditPanelValues(config) {
      return new Map([
        ['to_name', config.to_name || defaultConfig.to_name],
        ['from_name', config.from_name || defaultConfig.from_name],
        ['main_question', config.main_question || defaultConfig.main_question],
        ['sub_question', config.sub_question || defaultConfig.sub_question],
        ['yes_text', config.yes_text || defaultConfig.yes_text],
        ['no_text', config.no_text || defaultConfig.no_text],
        ['success_message', config.success_message || defaultConfig.success_message],
        ['date_info', config.date_info || defaultConfig.date_info],
        ['location_label', config.location_label || defaultConfig.location_label],
        ['activity1', config.activity1 || defaultConfig.activity1],
        ['activity2', config.activity2 || defaultConfig.activity2],
        ['activity3', config.activity3 || defaultConfig.activity3],
        ['food1', config.food1 || defaultConfig.food1],
        ['food2', config.food2 || defaultConfig.food2],
        ['message1', config.message1 || defaultConfig.message1],
        ['message2', config.message2 || defaultConfig.message2],
        ['message3', config.message3 || defaultConfig.message3],
        ['message4', config.message4 || defaultConfig.message4],
        ['footer_message', config.footer_message || defaultConfig.footer_message]
      ]);
    }

    // SDK ì´ˆê¸°í™”
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cd3ea58139732a2',t:'MTc3MDk4MTQwNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
